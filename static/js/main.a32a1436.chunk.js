(this.webpackJsonpcryptocurrency=this.webpackJsonpcryptocurrency||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(25),s=c.n(a),i=c(13),o=c(30),l=(c(70),c(71),c(110)),u=c(7),j=c(26),d=c.n(j),b=c(35),O=c(2),h=c(53),x=c.n(h).a.create({baseURL:"https://api.coincap.io/v2/"}),m=function(){return x.get("assets")},p=function(e,t){return x.get("assets?offset=".concat(e,"&limit=").concat(t))},f=function(e){return x.get("assets/".concat(e))},v=function(e){return x.get("assets/".concat(e,"/history?interval=d1"))},g={isLoading:!1,error:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IS-LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:t.isLoading});case"ERROR-HANDLER":return Object(O.a)(Object(O.a)({},e),{},{error:t.text});default:return e}},C=function(e){return{type:"SET-IS-LOADING",isLoading:e}},N=function(e){return{type:"ERROR-HANDLER",text:e}},_={currency:[],currentCur:{},topCurrency:[],chartHistory:[],currentPage:0,perPage:10,totalCount:0},w=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},U=c(60),T=c(1),R=function(e){var t=e.id,c=e.infoData,n=c.map((function(e){return e.date.slice(0,10)})),r=c.map((function(e){return e.priceUsd})),a={labels:n,datasets:[{label:t.toUpperCase(),data:r,backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return Object(T.jsx)(U.a,{data:a,options:{scales:{y:{beginAtZero:!0}}}})},S=c.p+"static/media/chevron-left.c80cdd8e.svg",E=function(e){return e.loading.isLoading},P=function(e){return e.error.error},W=function(e){return e.currencyList.currency},L=function(e){return e.currencyList.currentCur},k=function(e){return e.currencyList.topCurrency},H=function(e){return e.currencyList.chartHistory},A=function(e){return e.currencyList.totalCount},D=function(e){return e.currencyList.currentPage},F=function(e){return e.currencyList.perPage},I=function(e){return e.wallet.costWallet},Y=function(e){return e.wallet.sessionCostWallet},B=function(e){return e.wallet.percentTransaction},G=(c(92),c(93),function(){return Object(T.jsx)("div",{className:"modalInner",children:Object(T.jsx)("div",{className:"isLoadingBlock"})})}),J=(c(94),function(){return Object(T.jsx)("div",{className:"modal-error",children:Object(T.jsx)("div",{className:"modal-error__text",children:"Network error !!! Reload this page"})})}),M=function(){var e=Object(i.b)(),t=Object(i.c)(L),c=t.rank,r=t.symbol,a=t.priceUsd,s=t.marketCapUsd,l=t.supply,j=t.changePercent24Hr,O=t.volumeUsd24Hr,h=t.vwap24Hr,x=Object(i.c)(H),m=Object(u.g)().id,p=Object(i.c)(E),g=Object(i.c)(P);Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(C(!0)),t.prev=1,t.next=4,v(e);case 4:n=t.sent,c({type:"GET-HISTORY",chartHistory:n.data.data}),c(C(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c(C(!1)),c(N("error"));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(m)),e(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(C(!0)),t.prev=1,t.next=4,f(e);case 4:n=t.sent,c({type:"SET-CURRENT-CURRENCY",currentCur:n.data.data}),c(C(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c(C(!1)),c(N("error"));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(m))}),[e,m]);var y=Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Rank"}),Object(T.jsx)("th",{children:"Symbol"}),Object(T.jsx)("th",{children:"Price"}),Object(T.jsx)("th",{children:"Market Cap"}),Object(T.jsx)("th",{children:"Supply"}),Object(T.jsx)("th",{children:"Change 24Hr"}),Object(T.jsx)("th",{children:"Volume 24Hr"}),Object(T.jsx)("th",{children:"VWAP24Hr"})]})}),Object(T.jsx)("tbody",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:c}),Object(T.jsx)("td",{children:r}),Object(T.jsx)("td",{children:"$"+(+a).toFixed(2)}),Object(T.jsx)("td",{children:"$"+(+s).toFixed(2)}),Object(T.jsx)("td",{children:(+l).toFixed(2)+"m"}),Object(T.jsx)("td",{className:+j>0?"table__text_up":"table__text_down",children:(+j).toFixed(2)+"%"}),Object(T.jsx)("td",{children:"$"+(+O).toFixed(2)}),Object(T.jsx)("td",{children:"$"+(+h).toFixed(2)})]})})]});return Object(T.jsxs)("section",{className:"information information_mr20 information_pd15",children:[p&&Object(T.jsx)(G,{}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)("div",{className:"information__panel",children:Object(T.jsx)("div",{children:Object(T.jsx)(o.b,{className:"information__link",to:"/",children:Object(T.jsxs)("span",{children:[Object(T.jsx)("img",{src:S,alt:"React Logo"}),"Back"]})})})}),"error"===g&&Object(T.jsx)(J,{}),y,Object(T.jsx)("div",{className:"information__barChart",children:Object(T.jsx)(R,{infoData:x,id:m})})]})]})},$=(c(97),c.p+"static/media/avatar.eb51d125.svg");c(98);function V(){return Object(T.jsxs)("div",{className:"lds-roller",children:[Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{})]})}c(99);var z=function(){var e=Object(i.c)(I),t=Object(i.c)(Y),c=Object(i.c)(B),n=Object(i.c)(k),r=Object(i.c)(E),a=n.map((function(e){var t=(+e.priceUsd).toFixed(2);return Object(T.jsxs)("div",{className:"element",children:[Object(T.jsx)("span",{className:"element__span element__span_text_color",children:e.name}),Object(T.jsx)("span",{className:"element__span",children:t})]},e.id)}));return Object(T.jsxs)("section",{className:"header header_pd20",children:[Object(T.jsxs)("div",{className:"header__money",children:[r&&Object(T.jsx)(V,{}),a]}),Object(T.jsxs)("div",{className:"profile",children:[Object(T.jsx)("span",{className:"profile__name",children:"profile@gmail.com"}),Object(T.jsx)("div",{className:"profile__avatar",children:Object(T.jsx)("img",{src:$,alt:"ava"})}),Object(T.jsxs)("div",{className:"profile__targets",children:[Object(T.jsxs)("span",{children:[e," USD"]}),Object(T.jsxs)("span",{children:[t," USD"]}),Object(T.jsxs)("span",{children:[c," %"]})]})]})]})},Z=(c(100),function(){return Object(T.jsx)("section",{className:"history",children:Object(T.jsx)("h3",{className:"history__title",children:"History Transactions"})})}),q=function(){return Object(T.jsx)("section",{className:"content content_pd20-30",children:Object(T.jsxs)("div",{className:"content__wrapper",children:[Object(T.jsx)(z,{}),Object(T.jsx)(Z,{})]})})},K=c(17),Q=c(114),X=c(111),ee=c(112),te=c(113),ce=(c(101),function(e){var t=e.changeHandler,c=e.handleClose,r=e.data,a=r.id,s=r.priceUsd,i=Object(n.useState)(0),o=Object(K.a)(i,2),l=o[0],u=o[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(X.a,{show:!0,onHide:c,animation:!1,children:[Object(T.jsx)(X.a.Header,{closeButton:!0,children:Object(T.jsx)(X.a.Title,{children:"Add in the Wallet"})}),Object(T.jsx)(X.a.Body,{children:Object(T.jsxs)(ee.a,{className:"mb-3",children:[Object(T.jsx)(ee.a.Text,{children:a}),Object(T.jsx)(te.a,{type:"number","aria-label":"Amount (to the nearest dollar)",onChange:function(e){u(+e.currentTarget.value)}}),Object(T.jsx)(ee.a.Text,{children:s+" $"})]})}),Object(T.jsxs)(X.a.Footer,{children:[Object(T.jsx)(Q.a,{variant:"secondary",onClick:c,children:"Close"}),Object(T.jsx)(Q.a,{variant:"primary",onClick:function(){return e="sale",0!==l&&t(l,e);var e},children:"Sale"}),Object(T.jsx)(Q.a,{variant:"primary",onClick:function(){return e="buy",0!==l&&t(l,e);var e},children:"Buy"})]})]})})}),ne=(c(103),c(15)),re={wallet:[],costWallet:0,sessionCostWallet:0,percentTransaction:0},ae=function(e){var t=e.data,c=t.symbol,r=t.name,a=t.priceUsd,s=t.id,l=Object(n.useState)(!1),j=Object(K.a)(l,2),d=j[0],b=j[1],O=+a,h=Object(u.f)(),x=function(){b(!d)},m=Object(i.b)();var p=+e.data.rank%2?"":"item_bg";return Object(T.jsxs)("div",{className:"item item_mb item_pd ".concat(p),children:[Object(T.jsxs)(o.b,{onClick:function(){return h.push("/assets/".concat(s))},className:"item__link",to:"/assets/".concat(s),children:[Object(T.jsx)("div",{className:"item__symbol",children:c}),Object(T.jsx)("div",{className:"item__text",children:r}),Object(T.jsx)("div",{className:"item__cost",children:O.toFixed(2)})]}),Object(T.jsx)(Q.a,{variant:"outline-success",onClick:x,children:"+"}),d&&Object(T.jsx)(ce,{handleClose:x,changeHandler:function(e,t){var c={id:s,count:e,resultUsd:e*+a};"buy"===t&&(m({type:"ADD-CRYPTO",amount:c}),b(!d)),"sale"===t&&(m(function(e){return{type:"REMOVE-CRYPTO",amount:e}}(c)),b(!d))},data:e.data})]})},se=(c(104),function(e){for(var t=e.totalCount,c=e.pageSize,n=e.currentPage,r=e.onPageChange,a=Math.ceil(t/c),s=[],i=1;i<=a;i++)s.push(i);var o=n?+n.toString()[0]+1:1;return Object(T.jsx)("div",{className:"paginate",children:s.map((function(e){return Object(T.jsx)("span",{className:o===e?"paginate__span paginate__span_active":"paginate__span",onClick:function(){r(e)},children:e},e)}))})}),ie=c.p+"static/media/digital-wallet.61d97bb8.png",oe=(c(105),c.p+"static/media/error-429.55b8d755.jpeg"),le=function(){return Object(T.jsx)("div",{className:"message-error",children:Object(T.jsx)("img",{src:oe,alt:"error429"})})},ue=function(e){var t=e.data,c=e.totalCount,n=e.currentPage,r=e.perPage,a=e.onPageChange,s=Object(i.c)(E),o=t.map((function(e){return Object(T.jsx)(ae,{data:e},e.id)})),l=Object(i.c)(P);return Object(T.jsxs)("section",{className:"main",children:[Object(T.jsxs)("div",{className:"main__header",children:[Object(T.jsx)("div",{className:"logo logo_center",children:Object(T.jsx)("img",{className:"logo__img",src:ie,alt:"Logo"})}),Object(T.jsx)("h1",{className:"title",children:"Crypto-wallet"})]}),Object(T.jsxs)("div",{className:"main__items",children:[s&&Object(T.jsx)(V,{}),l?Object(T.jsx)(le,{}):o]}),Object(T.jsx)(se,{totalCount:c,pageSize:r,currentPage:n,onPageChange:a})]})},je=(c(106),function(){var e=Object(i.b)(),t=Object(i.c)(W),c=Object(i.c)(A),r=Object(i.c)(D),a=Object(i.c)(F);Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0)),e.prev=1,e.next=4,m();case 4:c=e.sent,t({type:"SET-TOTAL-COUNT",totalCount:c.data.data.length}),t({type:"SET-TOP-CURRENCY",topCurrency:c.data.data}),t(C(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(C(!1)),t(N("error"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),e(function(e,t){return function(){var c=Object(b.a)(d.a.mark((function c(n){var r;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n(C(!0)),c.prev=1,n(w(e)),c.next=5,p(e,t);case 5:r=c.sent,n({type:"SET-CURRENCY",currencyList:r.data.data}),n(C(!1)),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),n(N("error")),n(C(!1));case 14:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(r,a))}),[e,r,a]);return Object(T.jsx)("div",{className:"base-page base-page_mr",children:Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)("div",{className:"col-4",children:Object(T.jsx)(ue,{data:t,totalCount:c,currentPage:r,perPage:a,onPageChange:function(t){1===t&&e(w(t-1)),t>1&&e(w(+(t-1+"1")))}})}),Object(T.jsx)("div",{className:"col-8",children:Object(T.jsx)(q,{})})]})})}),de=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"NOT FOUND 404"})})},be=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(u.c,{children:[Object(T.jsx)(u.a,{exact:!0,path:"/",render:function(){return Object(T.jsx)(je,{})}}),Object(T.jsx)(u.a,{path:"/404",render:function(){return Object(T.jsx)(de,{})}}),Object(T.jsx)(u.a,{path:"/assets/:id",render:function(){return Object(T.jsx)(M,{})}})]})})};var Oe,he=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(l.a,{children:Object(T.jsx)(be,{})})})},xe=(c(107),c(34)),me=c(59),pe=function(e,t){try{var c=JSON.stringify(e);localStorage.setItem(t,c)}catch(n){}},fe=c(58),ve=Object(xe.combineReducers)({loading:y,error:y,currencyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CURRENCY":return Object(O.a)(Object(O.a)({},e),{},{currency:t.currencyList});case"SET-CURRENT-CURRENCY":return Object(O.a)(Object(O.a)({},e),{},{currentCur:t.currentCur});case"SET-TOP-CURRENCY":return Object(O.a)(Object(O.a)({},e),{},{topCurrency:t.topCurrency.filter((function(e){return+e.rank<=3}))});case"GET-HISTORY":return Object(O.a)(Object(O.a)({},e),{},{chartHistory:t.chartHistory});case"SET-CURRENT-PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalCount:t.totalCount});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-CRYPTO":var c=e.wallet.find((function(e){return e.id===t.amount.id}));if(c){e.wallet.map((function(e){e.id===t.amount.id&&(e.resultUsd=e.resultUsd+t.amount.resultUsd,e.count=e.count+t.amount.count)}));var n=+(100*t.amount.resultUsd/e.costWallet).toFixed(3);return Object(O.a)(Object(O.a)({},e),{},{wallet:Object(ne.a)(e.wallet),costWallet:e.costWallet+t.amount.resultUsd,sessionCostWallet:t.amount.resultUsd,percentTransaction:n})}return Object(O.a)(Object(O.a)({},e),{},{wallet:[].concat(Object(ne.a)(e.wallet),[t.amount]),costWallet:e.costWallet+t.amount.resultUsd,sessionCostWallet:t.amount.resultUsd});case"REMOVE-CRYPTO":var r=e.wallet.find((function(e){return e.id===t.amount.id}));return r?(e.wallet.map((function(e){e.id===t.amount.id&&(e.resultUsd=e.resultUsd<t.amount.resultUsd?e.resultUsd-e.resultUsd:e.resultUsd-t.amount.resultUsd,e.count=e.count<t.amount.count?e.count-e.count:e.count-t.amount.count)})),Object(O.a)(Object(O.a)({},e),{},{wallet:Object(ne.a)(e.wallet),costWallet:e.costWallet<t.amount.resultUsd?e.costWallet-e.costWallet:e.costWallet-t.amount.resultUsd,sessionCostWallet:t.amount.resultUsd})):Object(O.a)(Object(O.a)({},e),{},{wallet:[].concat(Object(ne.a)(e.wallet),[t.amount]),costWallet:e.costWallet<t.amount.resultUsd?e.costWallet-e.costWallet:e.costWallet-t.amount.resultUsd,sessionCostWallet:t.amount.resultUsd});case"COST-WALLET":return Object(O.a)({},e);default:return e}}}),ge=localStorage.getItem("wallet"),ye=localStorage.getItem("costWallet"),Ce=localStorage.getItem("currentPage");ge&&ye&&Ce&&(Oe={wallet:{wallet:JSON.parse(ge),costWallet:JSON.parse(ye),sessionCostWallet:0,percentTransaction:0},currencyList:{currency:[],currentCur:{},topCurrency:[],chartHistory:[],currentPage:JSON.parse(Ce),perPage:10,totalCount:0}});var Ne=Object(xe.createStore)(ve,Oe,Object(fe.composeWithDevTools)(Object(xe.applyMiddleware)(me.a)));Ne.subscribe((function(){pe(Ne.getState().wallet.wallet,"wallet"),pe(Ne.getState().wallet.costWallet,"costWallet"),pe(Ne.getState().currencyList.currentPage,"currentPage")})),window.store=Ne,s.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(i.a,{store:Ne,children:Object(T.jsx)(o.a,{children:Object(T.jsx)(he,{})})})}),document.getElementById("root"))},70:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.a32a1436.chunk.js.map